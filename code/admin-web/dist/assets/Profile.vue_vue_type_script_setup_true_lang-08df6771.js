import{d as $,u as D,D as G,r as t,s as k,e as E,ab as L,w as o,I as F,t as U,h as e,i as v,z as w,a as P,v as S,q as j,f as H,g as f,l as a,E as m,an as J}from"./index-1cb71b58.js";import{N as d}from"./FormItemGridItem-4af6fd44.js";import{a as K}from"./FormItem-50f38bb6.js";import{N as Q}from"./Grid-21e37177.js";const W=$({__name:"signOut",setup(C){const g=D(),u=G(),i=t(!1),h=k();async function p(){try{i.value=!0,await u.signOut(),await g.push({name:"login"})}catch{i.value=!1,h.error(v("auth.logOutFailed"))}finally{i.value=!1}}return(c,l)=>(E(),L(e(w),{type:"error",strong:"",secondary:"",round:"",loading:i.value,onClick:p},{default:o(()=>[F(U(e(v)("auth.logOut")),1)]),_:1},8,["loading"]))}}),X={class:"container_dashboard"},Y={class:"p-8 m-8 shadow-lg mx-20 border-none flex flex-col gap-2 rounded-lg"},Z={class:"post-heading mb-1"},ee={class:"gtext text-2xl font-bold underlined mb-8"},ae={class:"flex items-center space-x-4"},re=$({__name:"Profile",setup(C){var I;const{isMobile:g}=P(),u=S(()=>g?24:12),i=j(),h=k(),p=t(null),c=t(!1),l=S(()=>i.userInfo),M=t(l.value.avatar??""),b=((I=l.value.user)==null?void 0:I.email)??"",x=b.indexOf("@");t(x!==-1?b.slice(0,x):b);const R=t(l.value.description??""),N=t(l.value.fristName??""),_=t(l.value.lastName??""),T=t(l.value.avatarUrl??""),y=t(l.value.dateOfBirth??""),q=t(l.value.state??!1),O=t(l.value.gender??"Male"),V=t(l.value.userType??"Client"),B=t(l.value.country??""),z={firstName:[{required:!0,message:v("common.firstNameRequired"),trigger:["input","blur"]}]};function A(){var r;(r=p.value)==null||r.validate(s=>{if(s)h.error(v("auth.fillAllField"));else{const n={fristName:N.value,lastName:_.value,avatar:M.value,avatarUrl:T.value,dateOfBirth:y.value,description:R.value,state:q.value,gender:O.value,userType:V.value,country:B.value};c.value=!0,i.updateUserInfo(n)}})}return(r,s)=>(E(),H("div",X,[f("div",Y,[f("div",Z,[f("div",ee,U(e(v)("setting.profile")),1)]),a(e(K),{ref_key:"formRef",ref:p,size:"large",model:{},rules:z,class:"space-y-4"},{default:o(()=>[a(e(Q),{span:u.value,"x-gap":24},{default:o(()=>[a(e(d),{path:"firstName",span:u.value,label:r.$t("setting.firstName")},{default:o(()=>[a(e(m),{value:N.value,"onUpdate:value":s[0]||(s[0]=n=>N.value=n),placeholder:"Enter first name"},null,8,["value"])]),_:1},8,["span","label"]),a(e(d),{path:"lastName",span:u.value,label:r.$t("setting.lastName")},{default:o(()=>[a(e(m),{value:_.value,"onUpdate:value":s[1]||(s[1]=n=>_.value=n),placeholder:"Enter last name"},null,8,["value"])]),_:1},8,["span","label"]),a(e(d),{path:"dateOfBirth",span:u.value,label:r.$t("setting.dateOfBirth")},{default:o(()=>[a(e(m),{value:y.value,"onUpdate:value":s[2]||(s[2]=n=>y.value=n),placeholder:"Enter date of birth"},null,8,["value"])]),_:1},8,["span","label"]),a(e(d),{path:"gender",span:u.value,label:r.$t("setting.gender")},{default:o(()=>[a(e(J),{value:O.value,"onUpdate:value":s[3]||(s[3]=n=>O.value=n),options:[{label:"Male",value:"Male"},{label:"Female",value:"Female"},{label:"Other",value:"Other"}],placeholder:"Select gender",clearable:""},null,8,["value"])]),_:1},8,["span","label"]),a(e(d),{path:"country",span:u.value,label:r.$t("setting.country")},{default:o(()=>[a(e(m),{value:B.value,"onUpdate:value":s[4]||(s[4]=n=>B.value=n),placeholder:"Enter country"},null,8,["value"])]),_:1},8,["span","label"])]),_:1},8,["span"]),f("div",ae,[a(e(w),{type:"primary",loading:c.value,onClick:A},{default:o(()=>[F(U(r.$t("common.save")),1)]),_:1},8,["loading"]),a(W)])]),_:1},512)])]))}});export{re as _};
